package com.niit.shoppingcart;

import java.util.Iterator;
import java.util.List;

import org.hibernate.cfg.Configuration;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import com.niit.shoppingcart.config.AppConfig;
import com.niit.shoppingcart.dao.EmployeeDao;

public class App4 {

	private static Employee emp;
	private static Configuration cfg;
    public static void main( String[] args )
    {
    	cfg = new Configuration();
        cfg.configure("applicationContext.xml");
    	AnnotationConfigApplicationContext context = new 
    			AnnotationConfigApplicationContext(AppConfig.class);
        
        // Create new employee object
        Employee emp = new Employee();
        emp.setEid(11);
        emp.setName("spring-hibernate");
        emp.setSalary(50000);
        
     //   context.scan("com.niit.shoppingcart.model");
        
      //  emp = (Employee)context.getBean("employee");
     /*   Resource r=new ClassPathResource("applicationContext.xml");  
        BeanFactory factory=new XmlBeanFactory(r);  */
          
       //   HibernateTemplate template=(HibernateTemplate)context.getBean("template");
       /* EmployeeDao dao=(EmployeeDao)factory.getBean("d");*/  
         /* HibernateTransactionManager t = (HibernateTransactionManager) context.getBean("transactionManager");*/
          EmployeeDao dao = (EmployeeDao) context.getBean("EmployeeDao");
        
         /* List<Employee> list=new ArrayList<Employee>();  
  	    list=template.loadAll(Employee.class);  
         */ 
       List<Employee>  list = dao.getEmployees();  
        for (Iterator iterator = list.iterator(); iterator.hasNext();) {
			Employee employee = (Employee) iterator.next();
			System.out.println(employee);
			
		}
    }
}
